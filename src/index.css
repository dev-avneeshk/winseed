@import "tailwindcss";

@theme {
  --font-sans: "Inter", "SF Pro Display", -apple-system, BlinkMacSystemFont,
    "Segoe UI", sans-serif;
}

/* ============================================
   CRITICAL PERFORMANCE OPTIMIZATIONS
   ============================================ */

/* Hardware-Accelerated Scrolling */
html, body {
  scroll-behavior: smooth;
  will-change: scroll-position;
  overscroll-behavior-y: contain;
}

.carousel-row, .horizontal-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x mandatory;
}

/* Performance: Heavy optimization for Lighthouse */

/* 1. Content Visibility - Skip rendering off-screen sections */
section {
  content-visibility: auto;
  contain: layout style paint;
}

/* 2. Key performance elements */
.floating-card { 
  contain: layout style paint;
  will-change: auto; /* Only enable on interaction */
}

nav { 
  contain: layout style paint; 
  will-change: transform; 
}

img {
  /* Prevent layout shift while images load */
  display: block;
  max-width: 100%;
  height: auto;
}

/* 3. Reduce expensive effects on mobile */
@media (max-width: 768px) {
  /* Disable expensive filters on mobile */
  .backdrop-blur {
    backdrop-filter: none !important;
  }
  
  /* Simplify animations on mobile */
  section {
    animation: none !important;
  }
}

/* Modal Overlay - Ensure it sits above everything */
.fixed.inset-0.z-50 {
  position: fixed !important;
  inset: 0 !important;
  z-index: 9999 !important;
}

/* Carousel - Mobile Optimization */
.carousel-row {
  display: flex;
  flex-direction: row;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
}

.carousel-card {
  flex: 0 0 80vw;
  max-width: 340px;
}

@media (max-width: 700px) {
  .carousel-row {
    flex-direction: row;
    overflow-x: auto;
    overflow-y: hidden;
  }
  
  .carousel-card {
    min-width: 80vw;
    max-width: 95vw;
  }
  
  /* Breeding section stacks on mobile */
  .breeding-grid {
    display: flex;
    flex-direction: column;
    gap: 32px;
  }
}

/* Breeding Section - Mobile Responsive */
@media (max-width: 720px) {
  #breeding > div {
    display: flex !important;
    flex-direction: column !important;
    gap: 32px !important;
    align-items: flex-start !important;
  }

  #breeding p {
    max-width: 100% !important;
  }
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
